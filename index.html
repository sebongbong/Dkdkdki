<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>GreenLink â€” ë°ì´í„°ë¡œ ì—°ê²°ë˜ëŠ” ë…¹ìƒ‰ í˜‘ë ¥</title>

<!-- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬: Chart.js (ê·¸ë˜í”„ìš©) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  :root{
    --green:#2e8b57;
    --accent:#1f7a4c;
    --bg:#f3f7f5;
    --card:#ffffff;
    --muted:#6b6b6b;
    --dark:#233;
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family: "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:var(--bg); color:var(--dark); -webkit-font-smoothing:antialiased;
  }
  header{
    background:linear-gradient(90deg,var(--green),#66a283);
    color:white; padding:26px 16px; text-align:center;
  }
  header h1{margin:0;font-size:1.6rem}
  header p{margin:6px 0 0;opacity:0.95}

  .container{max-width:1100px;margin:22px auto;padding:0 16px;}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
  .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 16px rgba(20,30,20,0.06)}
  .col-8{grid-column: span 8}
  .col-4{grid-column: span 4}
  .col-12{grid-column: span 12}
  h2{color:var(--accent);margin:0 0 8px}
  p.lead{margin:0 0 12px;color:var(--muted)}

  nav.quick{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
  nav.quick button{background:white;border:1px solid #e6efe8;padding:8px 12px;border-radius:8px;cursor:pointer}
  nav.quick button.active{background:var(--accent);color:white;border-color:transparent}

  .list{display:flex;flex-direction:column;gap:10px}
  .list .item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;border:1px solid #eef6f0}
  .btn{background:var(--green);color:white;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
  .btn.secondary{background:transparent;color:var(--green);border:1px solid var(--green)}

  .form-row{display:flex;gap:8px;flex-wrap:wrap}
  input[type="text"], input[type="number"], textarea, select{
    padding:8px;border:1px solid #ddeee0;border-radius:8px;flex:1;min-width:0;
  }

  table{width:100%;border-collapse:collapse}
  table th, table td{padding:6px;text-align:left}

  footer{padding:18px;text-align:center;color:#546;opacity:0.9;margin-top:18px}

  .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:#e9f4ec;color:var(--accent);font-weight:600;font-size:0.85rem}
  .muted{color:var(--muted);font-size:0.95rem}
  .small{font-size:0.9rem}
  .flex{display:flex;gap:12px;align-items:center}
  @media(max-width:900px){
    .col-8,.col-4{grid-column:span 12}
  }
</style>
</head>
<body>
<header>
  <h1>ğŸŒ¿ GreenLink</h1>
  <p>ë°ì´í„°ë¡œ ì—°ê²°ë˜ëŠ” ë…¹ìƒ‰ í˜‘ë ¥ â€” ê¸°ì—…Â·ì‹œë¯¼Â·ê°œë°œí˜‘ë ¥ ê¸°ê´€ì„ ì‡ëŠ” ì‹œì œí’ˆ</p>
</header>

<div class="container">
  <section class="grid">
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="card col-8">
      <h2>ë¬¸ì œì˜ì‹</h2>
      <p class="lead">ê¸°ì—…ì˜ ESG ê³µì‹œëŠ” ëŠ˜ì—ˆì§€ë§Œ ì‹¤íš¨ì„±Â·íˆ¬ëª…ì„±ì´ ë¶€ì¡±í•˜ê³ , ê°œë°œë„ìƒêµ­ì€ ê¸°í›„ëŒ€ì‘ ìì›Â·ê¸°ìˆ  ë¶€ì¡±ìœ¼ë¡œ ì‹¤í–‰ë ¥ì´ ì•½í•©ë‹ˆë‹¤. GreenLinkëŠ” íˆ¬ëª…í•œ ë°ì´í„°ì™€ ë§¤ì¹­ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‹¤ì§ˆì  ê¸°í›„ì„íŒ©íŠ¸ë¥¼ ì°½ì¶œí•©ë‹ˆë‹¤.</p>

      <nav class="quick" aria-label="quick-nav">
        <button class="active" onclick="showSection('dashboard', this)">ê¸°ì—… ESG ëŒ€ì‹œë³´ë“œ</button>
        <button onclick="showSection('projects', this)">ê°œë°œí˜‘ë ¥ ë§¤ì¹­</button>
        <button onclick="showSection('citizen', this)">ì‹œë¯¼ ì°¸ì—¬</button>
        <button onclick="showSection('report', this)">ë°ì´í„° ë¦¬í¬íŠ¸</button>
      </nav>

      <!-- ì„¹ì…˜: Dashboard -->
      <div id="dashboard">
        <h3 class="small">ê¸°ì—… ESG ì‹¤ì  (ìƒ˜í”Œ)</h3>
        <canvas id="esgChart" style="max-height:320px"></canvas>

        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:14px">
          <div style="flex:1;min-width:200px">
            <div class="card" style="padding:12px">
              <div class="flex">
                <div>
                  <div class="badge">ì´ ë“±ë¡ ê¸°ì—… 6</div>
                  <div class="muted">ìµœê·¼ 12ê°œì›” ì´ ê°ì¶•ëŸ‰</div>
                  <h3 id="totalReduction">-</h3>
                </div>
                <div style="margin-left:auto;text-align:right">
                  <div class="muted">ì˜ˆì‹œ ì°¸ì—¬ê¸°ì—…</div>
                  <strong>GreenFoods Â· SunPower Â· EcoLogix</strong>
                </div>
              </div>
            </div>
          </div>

          <div style="flex:1;min-width:200px">
            <div class="card" style="padding:12px">
              <div class="muted">ESG ê³µê°œ ë ˆë²¨</div>
              <div style="margin-top:8px">
                <div class="small">Level A: ì™„ì „ê³µê°œ</div>
                <div class="small">Level B: ì¼ë¶€ê³µê°œ</div>
                <div class="small">Level C: ë¯¸ê³µê°œ</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ì„¹ì…˜: Projects -->
      <div id="projects" style="display:none;margin-top:12px">
        <h3 class="small">ê°œë°œí˜‘ë ¥ í”„ë¡œì íŠ¸ ë§¤ì¹­</h3>
        <p class="muted">ê¸°ì—…ì˜ ESG ì˜ˆì‚°ì„ ì—°ê³„í•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ ëª©ë¡ (ìƒ˜í”Œ)</p>

        <div class="list" style="margin-top:8px">
          <div class="item">
            <div>
              <strong>ì¼€ëƒ íƒœì–‘ê´‘ ë§ˆì´í¬ë¡œê·¸ë¦¬ë“œ</strong>
              <div class="muted small">ì§€ì—­: ì¼€ëƒ Â· ëª©í‘œ ê°ì¶•: 3,200 tCOâ‚‚e Â· í•„ìš”ê¸ˆì•¡: $120,000</div>
            </div>
            <div><button class="btn" onclick="joinProject('ì¼€ëƒ íƒœì–‘ê´‘ ë§ˆì´í¬ë¡œê·¸ë¦¬ë“œ')">ì°¸ì—¬í•˜ê¸°</button></div>
          </div>

          <div class="item">
            <div>
              <strong>ë² íŠ¸ë‚¨ ì‚°ë¦¼ ë³µì› í”„ë¡œê·¸ë¨</strong>
              <div class="muted small">ì§€ì—­: ë² íŠ¸ë‚¨ Â· ëª©í‘œ ê°ì¶•: 1,100 tCOâ‚‚e Â· í•„ìš”ê¸ˆì•¡: $40,000</div>
            </div>
            <div><button class="btn" onclick="joinProject('ë² íŠ¸ë‚¨ ì‚°ë¦¼ ë³µì›')">ì°¸ì—¬í•˜ê¸°</button></div>
          </div>

          <div class="item">
            <div>
              <strong>ë°©ê¸€ë¼ë°ì‹œ ì§€ì†í˜• ë†ì—… êµìœ¡</strong>
              <div class="muted small">ì§€ì—­: ë°©ê¸€ë¼ë°ì‹œ Â· ê°„ì ‘ê°ì¶•: 600 tCOâ‚‚e Â· í•„ìš”ê¸ˆì•¡: $20,000</div>
            </div>
            <div><button class="btn" onclick="joinProject('ë°©ê¸€ë¼ë°ì‹œ ë†ì—… êµìœ¡')">ì°¸ì—¬í•˜ê¸°</button></div>
          </div>
        </div>
      </div>

      <!-- ì„¹ì…˜: Citizen -->
      <div id="citizen" style="display:none;margin-top:12px">
        <h3 class="small">ì‹œë¯¼ ì°¸ì—¬ â€” ë‚˜ì˜ íƒ„ì†Œ ë‹¤ì´ì–´ë¦¬</h3>
        <p class="muted">ì¼ìƒ ì‹¤ì²œì„ ê¸°ë¡í•˜ê³  í¬ì¸íŠ¸ë¥¼ ëª¨ì•„ í”„ë¡œì íŠ¸ì— ê¸°ë¶€í•˜ì„¸ìš”.</p>

        <div class="card" style="padding:12px">
          <form id="actionForm" onsubmit="event.preventDefault(); addAction();">
            <div class="form-row">
              <input id="actDesc" type="text" placeholder="ì‹¤ì²œ ë‚´ìš© (ì˜ˆ: ëŒ€ì¤‘êµí†µ ì´ìš©, ì±„ì‹)" required>
              <input id="estCO2" type="number" placeholder="ì¶”ì • ì ˆê°ëŸ‰(kgCOâ‚‚e)" min="0" step="1">
              <button class="btn" type="submit">ê¸°ë¡</button>
            </div>
          </form>

          <div style="margin-top:12px">
            <h4 class="small">ë‚´ ì‹¤ì²œ ëª©ë¡</h4>
            <ul id="actionsList" style="margin:8px 0 0;padding-left:18px"></ul>
            <div style="margin-top:8px" class="muted">ì´ í¬ì¸íŠ¸: <strong id="points">0</strong></div>
            <div style="margin-top:8px"><button class="btn secondary" onclick="donatePoints()">í¬ì¸íŠ¸ ê¸°ë¶€</button></div>
          </div>
        </div>
      </div>

      <!-- ì„¹ì…˜: Report -->
      <div id="report" style="display:none;margin-top:12px">
        <h3 class="small">ë°ì´í„° ë¦¬í¬íŠ¸ (ìƒ˜í”Œ)</h3>
        <p class="muted">í”Œë«í¼ í†µê³„ ìš”ì•½</p>

        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-top:8px">
          <div class="card"><div class="muted small">ë“±ë¡ í”„ë¡œì íŠ¸ ìˆ˜</div><h3 id="numProjects">-</h3></div>
          <div class="card"><div class="muted small">ì´ ê°ì¶•ëŸ‰ (tCOâ‚‚e)</div><h3 id="totalCO2">-</h3></div>
          <div class="card"><div class="muted small">ì‹œë¯¼ ì‹¤ì²œ ìˆ˜</div><h3 id="totalActions">0</h3></div>
        </div>
      </div>

    </div>

    <!-- ì‚¬ì´ë“œ -->
    <aside class="card col-4">
      <h4 class="small">í•µì‹¬ ì œì•ˆ</h4>
      <p class="muted small">ê¸°ì—… ë°ì´í„° íˆ¬ëª…í™” Â· ê°œë°œí˜‘ë ¥ ë§¤ì¹­ Â· ì‹œë¯¼ ì°¸ì—¬ í™•ëŒ€</p>

      <hr style="border:none;border-top:1px solid #eef6f0;margin:12px 0">

      <h4 class="small">ìƒ˜í”Œ ê¸°ì—… ESG ìš”ì•½</h4>
      <table aria-label="ê¸°ì—… ESG í‘œ">
        <thead><tr><th>ê¸°ì—…</th><th style="text-align:right">ê°ì¶•(%)</th></tr></thead>
        <tbody id="companyTable"></tbody>
      </table>

      <hr style="border:none;border-top:1px solid #eef6f0;margin:12px 0">

      <h4 class="small">ì‚¬ìš© ë©”ëª¨</h4>
      <p class="small muted">ì´ í˜ì´ì§€ëŠ” êµìœ¡Â·ì‹œì œí’ˆìš©ì…ë‹ˆë‹¤. ì‹¤ì œ ë°°í¬ ì „ì—ëŠ” ì¸ì¦Â·ë°ì´í„° ê²€ì¦Â·ê²°ì œ ì—°ë™ ë“± ì¶”ê°€ ê°œë°œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
    </aside>
  </section>

  <!-- ì†Œê°œ / êµ¬í˜„ ë…¸íŠ¸ -->
  <section class="grid" style="margin-top:18px">
    <div class="card col-12">
      <h2>í”„ë¡œì íŠ¸ ê°œìš”</h2>
      <p class="lead">GreenLinkëŠ” ê²½ì˜í•™(ESG ì„±ê³¼ê´€ë¦¬)ê³¼ ê°œë°œí˜‘ë ¥í•™(êµ­ì œê¸°êµ¬/í”„ë¡œì íŠ¸ ë§¤ì¹­) ì§€ì‹ì„ ê²°í•©í•˜ì—¬, ê¸°ì—…ì˜ ìì›ì„ ê°œë°œë„ìƒêµ­ ê¸°í›„ì‚¬ì—…ê³¼ ì—°ê²°í•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.</p>

      <h3 class="small">êµ¬í˜„ ë©”ëª¨</h3>
      <ul>
        <li class="muted small">ì°¨íŠ¸ëŠ” Chart.jsë¡œ ë Œë”ë§ë©ë‹ˆë‹¤(ì¸í„°ë„· ì—°ê²° í•„ìš”).</li>
        <li class="muted small">ì‹œë¯¼ ì‹¤ì²œ ë°ì´í„°ëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë˜ì–´ ë¸Œë¼ìš°ì € ë‚´ì—ì„œë§Œ ìœ ì§€ë©ë‹ˆë‹¤.</li>
        <li class="muted small">ì‹¤ ìš´ì˜ì—ëŠ” ì‚¬ìš©ì ì¸ì¦Â·ë°ì´í„° ê²€ì¦Â·ê²°ì œ ëª¨ë“ˆì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
      </ul>
    </div>
  </section>

  <footer>
    Â© 2025 GreenLink â€” êµìœ¡/ì‹œì œí’ˆ. ì‹¤ì œ ë°°í¬ ì „ ë²•ì Â·ê¸°ìˆ ì  ê²€í†  í•„ìš”.
  </footer>
</div>

<script>
/* =======================
   ìƒ˜í”Œ ë°ì´í„° ë° ì´ˆê¸°í™”
   ======================= */
const companies = [
  {name:"GreenFoods", reductionPct:23, reductionT:320},
  {name:"SunPower", reductionPct:18, reductionT:280},
  {name:"EcoLogix", reductionPct:15, reductionT:210},
  {name:"TransCo", reductionPct:9, reductionT:120},
  {name:"AquaPure", reductionPct:6, reductionT:170},
  {name:"BuildWell", reductionPct:12, reductionT:140}
];

const projects = [
  {name:"ì¼€ëƒ íƒœì–‘ê´‘ ë§ˆì´í¬ë¡œê·¸ë¦¬ë“œ", co2:3200, need:120000},
  {name:"ë² íŠ¸ë‚¨ ì‚°ë¦¼ ë³µì›", co2:1100, need:40000},
  {name:"ë°©ê¸€ë¼ë°ì‹œ ì§€ì†í˜• ë†ì—… êµìœ¡", co2:600, need:20000}
];

function populateCompanies(){
  const tbody = document.getElementById('companyTable');
  tbody.innerHTML = '';
  companies.forEach(c=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${c.name}</td><td style="text-align:right">${c.reductionPct}%</td>`;
    tbody.appendChild(tr);
  });
}
populateCompanies();

const totalReduction = companies.reduce((s,c)=>s+c.reductionT,0);
document.getElementById('totalReduction').innerText = totalReduction.toLocaleString() + " tCOâ‚‚e";
document.getElementById('totalCO2').innerText = totalReduction.toLocaleString();
document.getElementById('numProjects').innerText = projects.length;

/* ================
   ì°¨íŠ¸ ìƒì„± (Chart.js)
   ================ */
const ctx = document.getElementById('esgChart').getContext('2d');
const esgChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: companies.map(c=>c.name),
    datasets: [{
      label: 'ê°ì¶•ëŸ‰ (tCOâ‚‚e)',
      data: companies.map(c=>c.reductionT),
      borderRadius:6,
      barPercentage:0.6
    }]
  },
  options: {
    responsive:true,
    plugins:{legend:{display:false}, tooltip:{callbacks:{label: ctx => ctx.parsed.y + ' tCOâ‚‚e'}}},
    scales:{y:{beginAtZero:true}}
  }
});

/* =======================
   ì„¹ì…˜ ìŠ¤ìœ„ì²˜
   ======================= */
function showSection(id, btn){
  document.querySelectorAll('#dashboard,#projects,#citizen,#report').forEach(el=>el.style.display='none');
  document.getElementById(id).style.display='block';
  document.querySelectorAll('nav.quick button').forEach(b=>b.classList.remove('active'));
  if(btn) btn.classList.add('active');
}

/* =======================
   ì‹œë¯¼ ê¸°ëŠ¥ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€)
   ======================= */
const STORAGE_KEY = 'greenlink_actions_v1';
function loadActions(){ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
function saveActions(list){ localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); }
function renderActions(){
  const list = loadActions();
  const ul = document.getElementById('actionsList');
  ul.innerHTML = '';
  let pts = 0;
  list.forEach((a, idx) => {
    const li = document.createElement('li');
    li.innerHTML = `${a.desc} â€” ${a.co2 ? a.co2 + ' kgCOâ‚‚e' : ''} <button style="margin-left:8px" onclick="removeAction(${idx})">ì‚­ì œ</button>`;
    ul.appendChild(li);
    pts += a.co2 ? Math.round(a.co2/10) : 1; // 10kg -> 1í¬ì¸íŠ¸ ê°„ë‹¨ í™˜ì‚°
  });
  document.getElementById('points').innerText = pts;
  document.getElementById('totalActions').innerText = list.length;
}
function addAction(){
  const desc = document.getElementById('actDesc').value.trim();
  const co2 = Number(document.getElementById('estCO2').value) || 0;
  if(!desc){ alert('ì‹¤ì²œ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.'); return; }
  const list = loadActions();
  list.push({desc, co2, date: new Date().toISOString()});
  saveActions(list);
  document.getElementById('actDesc').value='';
  document.getElementById('estCO2').value='';
  renderActions();
}
function removeAction(i){
  const list = loadActions(); list.splice(i,1); saveActions(list); renderActions();
}
function donatePoints(){
  const pts = Number(document.getElementById('points').innerText);
  if(pts <= 0){ alert('ê¸°ë¶€ ê°€ëŠ¥í•œ í¬ì¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.'); return; }
  const proj = prompt('ê¸°ë¶€í•  í”„ë¡œì íŠ¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì¼€ëƒ íƒœì–‘ê´‘ ë§ˆì´í¬ë¡œê·¸ë¦¬ë“œ)');
  if(!proj) return;
  alert(`${proj} í”„ë¡œì íŠ¸ì— ${pts} í¬ì¸íŠ¸ê°€ ê¸°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤! (ìƒ˜í”Œ ì‘ë™)`);
  localStorage.removeItem(STORAGE_KEY); renderActions();
}

/* =======================
   í”„ë¡œì íŠ¸ ì°¸ì—¬ (ìƒ˜í”Œ)
   ======================= */
function joinProject(name){
  const ok = confirm(`${name} í”„ë¡œì íŠ¸ì— ê¸°ì—…ìœ¼ë¡œ ì°¸ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ìƒ˜í”Œ ë™ì‘)`);
  if(ok) alert('ì°¸ì—¬ ì‹ ì²­ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê¸°ì—… ì¸ì¦ê³¼ ê²°ì œê°€ í•„ìš”í•©ë‹ˆë‹¤.');
}

/* ì´ˆê¸° ë Œë”ë§ */
renderActions();
</script>
</body>
</html>
